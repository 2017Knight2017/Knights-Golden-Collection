import requests
import json
import os

names = [
	"Аджии",
	"Аканэ",
	"Амай",
	"Аой",
	"Асу",
	"Берумы",
	"Беши",
	"Борупена",
	"Будо",
	"Гаку",
	"Гейджу",
	"Гемы",
	"Гиты",
	"Дайроку",
	"Даку",
	"Дафуни",
	"Джуку",
	"Доры",
	"Инкью",
	"Ируки",
	"Итачи",
	"Каги",
	"Кашико",
	"Кенко",
	"Кибы",
	"Кизаны",
	"Коконы",
	"Кокоро",
	"Кокумы",
	"Куроко",
	"Куу",
	"Кьюджи",
	"Май",
	"Маки",
	"Мантаро",
	"Мегами",
	"Меки",
	"Мидори",
	"Мины",
	"Миюджи",
	"Мусуме",
	"Оки",
	"Осаны",
	"Осоро",
	"Отохико",
	"Пиппи",
	"Райбару",
	"Рику",
	"Роджасу",
	"Рюто",
	"Саки",
	"Сакуры",
	"Сакью",
	"Сейо",
	"Сенпая",
	"Сукуби",
	"Сумире",
	"Супаны",
	"Тоги",
	"Токуко",
	"Умеджи",
	"Унаги",
	"Уэкии",
	"Фуреддо",
	"Хазу",
	"Ханы",
	"Ханако",
	"Хаянари",
	"Химари",
	"Ходжиро",
	"Хокуто",
	"Хому",
	"Хоро",
	"Хоруды",
	"Хошико",
	"Цубаки",
	"Цурузо",
	"Чоджо",
	"Шимы",
	"Шина",
	"Широми",
	"Шо",
	"Шозо",
	"Шоку",
	"Энпицу",
	"Эфуде",
	"Яку",
	"Аяно",
	"Генки",
	"Карин",
	"Кахо_Канокоги",
	"Киоши",
	"Кочо",
	"Миды",
	"Муджи",
	"Насу",
	"Нацуки",
	"Рейны",
	"Рино",
	"Шиори"
    ]
names_1980 = [
	"Кагуи",
	"Моэко",
	"Хонами",
	"Сумико",
	"Рицуко",
	"Ай",
	"Тейко",
	"Комако",
	"Чигусы",
	"Азумы",
	"Азусы",
	"Айки",
	"Акари",
	"Акифуми",
	"Банри",
	"Бунзо",
	"Ваки",
	"Ватару",
	"Гакуто",
	"Готы",
	"Дайзо",
	"Дайсаку",
	"Дайчи",
	"Джицуко",
	"Джозе",
	"Дорэми",
	"Зенджи",
	"Ивао",
	"Икуэ",
	"Ицуми",
	"Ичиэй",
	"Кагемори",
	"Кахо",
	"Кена",
	"Кохару",
	"Мааи",
	"Махиро",
	"Меи",
	"Мурасаки",
	"Нагако",
	"Нагахару",
	"Окимото",
	"Оми",
	"Джокичи",
	"Райзо",
	"Райму",
	"Ран",
	"Рейичи",
	"Риобы",
	"Рюсея",
	"Сабуро",
	"Сачи",
	"Сачихико",
	"Сейширо",
	"Соноко",
	"Соры",
	"Соты",
	"Тадааки",
	"Тайчи",
	"Такако",
	"Тиру",
	"Того",
	"Уи",
	"Уманосукэ",
	"Умеко",
	"Фуджио",
	"Фуджиэ",
	"Фуюкичи",
	"Фуюми",
	"Ханаэ",
	"Харуто",
	"Хачиро",
	"Хаято",
	"Химеко",
	"Хозуми",
	"Хоноки",
	"Чидори",
	"Чизуру",
	"Чикао",
	"Чуджиро",
	"Шинако",
	"Шичиро",
	"Эйичи",
	"Эйко",
	"Эцуджи",
	"Эцуко",
	"Юи",
	"Юны",
	"Яхико",
	"Яэ",
	"Кёко",
	"Джури",
	"Кочо_в_1989",
	"Маэ",
	"Муцуко",
	"Нориё",
	"Отомэ",
	"Рёко",
	"Сузуко",
	"Цуру"
]

model_names = [
	"Аджиа_Ашитоми",
	"Аканэ_Ториясу",
	"Амай_Одаяка",
	"Аой_Рюгоку",
	"Берума_Динкури",
	"Беши_Такамине",
	"Борупен_Сайшики",
	"Будо_Масута",
	"Гаку_Хикицури",
	"Гейджу_Цука",
	"Гема_Таку",
	"Гита_Ямахато",
	"Дайроку_Сурикизу",
	"Даку_Ацу",
	"Дафуни_Бурейку",
	"Джуку_Рен",
	"Дора_Тамамото",
	"Инкью_Басу",
	"Ирука_Доруфино",
	"Итачи_Заметора",
	"Кага_Куша",
	"Кашико_Мурасаки",
	"Кенко_Сукояка",
	"Киба_Каваито",
	"Кокона_Харука",
	"Кокоро_Момоиро",
	"Кокума_Джуцу",
	"Куроко_Каменага",
	"Куу_Дере",
	"Кьюджи_Конагава",
	"Май_Вайфу",
	"Мака_Тансей",
	"Мантаро_Сашимасу",
	"Мека_Никару",
	"Мидори_Гурин",
	"Мина_Раи",
	"Миюджи_Шан",
	"Мусуме_Роншаку",
	"Осана_Наджими",
	"Отохико_Меичи",
	"Пиппи_Осу",
	"Райбару_Фумецу",
	"Рику_Сома",
	"Роджасу_Норубиру",
	"Рюто_Иппонго",
	"Саки_Мию",
	"Сакура_Хагивара",
	"Сакью_Басу",
	"Сейо_Аканиши",
	"Таро_Ямада",
	"Сукуби_Дубиду",
	"Сумире_Сузуки",
	"Супана_Чуру",
	"Тога_Табара",
	"Токуко_Китагава",
	"Умеджи_Кизугучи",
	"Унаги_Денкашиза",
	"Уэкия_Энгейка",
	"Фуреддо_Джонзу",
	"Хазу_Кашибучи",
	"Хана_Дайдайяма",
	"Хаянари_Цумеато",
	"Химари_Фуджита",
	"Ходжиро_Замеширо",
	"Хокуто_Фурукизу",
	"Хому_Курусу",
	"Хоро_Гураму",
	"Хоруда_Пуресу",
	"Хошико_Мизудори",
	"Цубаки_Уэсуги",
	"Цурузо_Ямазаки",
	"Чоджо_Текина",
	"Шима_Шия",
	"Шин_Хигаку",
	"Широми_Тораёши",
	"Шо_Кунин",
	"Шозо_Куросава",
	"Шоку_Цубурая",
	"Энпицу_Бьёга",
	"Эфуде_Нуримоно",
	"Яку_Заиши",
	"Аяно_Аиши",
	"Карин_Ханабуса",
	"Кахо_Канокоги",
	"Киоши_Тачикава",
	"Насу_Канкоши",
	"Нацуки_Абурая",
	"Рейна_Набатаме",
	"Рино_Фукахори",
	"Шиори_Рикитаке"
]
model_names_1980 = [
	"Кагуя_Вакайзуми",
	"Моэко_Ракуёна",
	"Хонами_Ходошима",
	"Сумико_Тачибана",
	"Рицуко_Чиканари",
	"Ай_Доруяши",
	"Тейко_Набатасай",
	"Комако_Фунакоши",
	"Чигуса_Бусуджима",
	"Азума_Такахоши",
	"Азуса_Мицуиши",
	"Айка_Исери",
	"Акари_Комияку",
	"Акифуми_Анно",
	"Банри_Масаюки",
	"Бунзо_Ота",
	"Вака_Ямага",
	"Ватару_Мурата",
	"Гакуто_Имакаке",
	"Гота_Кушида",
	"Дайзо_Момосэ",
	"Дайсаку_Арагаки",
	"Дайчи_Сузуки",
	"Джицуко_Фурусава",
	"Джозе_Шиуба",
	"Дорэми_Шимахара",
	"Зенджи_Шинокура",
	"Ивао_Сато",
	"Икуэ_Яйтабаши",
	"Ицуми_Юуки",
	"Ичиэй_Накаяма",
	"Кагемори_Такаги",
	"Кахо_Мики",
	"Кен_Кёнашима",
	"Кохару_Хината",
	"Маая_Оши",
	"Махиро_Хонда",
	"Меи_Мио",
	"Мурасаки_Нобумото",
	"Нагако_Андо",
	"Нагахару_Курудо",
	"Окимото_Фурукава",
	"Оми_Охара",
	"Джокичи_Юдасей",
	"Райзо_Мориока",
	"Райму_Ичиджо",
	"Ран_Учимара",
	"Рейичи_Танаами",
	"Риоба_Аиши",
	"Рюсей_Коки",
	"Сабуро_Мешино",
	"Сачи_Ёнеяма",
	"Сачихико_Фукуока",
	"Сейширо_Саданага",
	"Соноко_Саканоуэ",
	"Сора_Сосуке",
	"Сота_Юки",
	"Тадааки_Сунада",
	"Тайчи_Хиранака",
	"Такако_Уэда",
	"Тиру_Суторику",
	"Того_Атацума",
	"Уи_Тунесу",
	"Уманосукэ_Ёшинари",
	"Умеко_Учияма",
	"Фуджио_Кио",
	"Фуджиэ_Хайджима",
	"Фуюкичи_Като",
	"Фуюми_Тачики",
	"Ханаэ_Оно",
	"Харуто_Юто",
	"Хачиро_Исо",
	"Хаято_Харуки",
	"Химеко_Дерегучи",
	"Хозуми_Такеда",
	"Хонока_Киёкава",
	"Чидори_Икегами",
	"Чизуру_Ямагучи",
	"Чикао_Цурумаки",
	"Чуджиро_Китасуме",
	"Шинако_Бунзай",
	"Шичиро_Куросапу",
	"Эйичи_Асари",
	"Эйко_Ногучи",
	"Эцуджи_Одака",
	"Эцуко_Хаяшибара",
	"Юи_Рио",
	"Юна_Хина",
	"Яхико_Онода",
	"Яэ_Огата",
	"Кёко_Коясу",
	"Джури_Нагасава",
	"Муцуко_Нишимура",
	"Нориё_Хирамацу",
	"Отомэ_Нагасако",
	"Рёко_Угаки",
	"Сузуко_Нака",
	"Цуру_Кария"
]

for i in names_1980:
	imgname = f"Портрет_{i}_(текущий).png"
	link = f"https://yandere-simulator.fandom.com/ru/api.php?action=query&titles=File:{imgname}&prop=imageinfo&iiprop=url&format=json"
	page = json.loads(requests.get(link).content)
	page_id = list(page["query"]["pages"].keys())[0]
	image_link = page["query"]["pages"][page_id]["imageinfo"][0]["url"]
	try:
		os.mkdir(f"images/1980/{i}")
	except FileExistsError:
		pass
	
	with open(f"images/1980/{i}/Портреты/{imgname}", "wb") as file:
		file.write(requests.get(image_link).content)
	
	for j in range(1, 40):
		boo = False
		for k in ("png","JPG","jpg","PNG"):
			imgname = f"Портрет_{i}_({j}).{k}"
			link = f"https://yandere-simulator.fandom.com/ru/api.php?action=query&titles=File:{imgname}&prop=imageinfo&iiprop=url&format=json"
			page = json.loads(requests.get(link).content)
			page_id = list(page["query"]["pages"].keys())[0]

			if page_id == "-1":
				if k == "PNG": boo = True
				continue
			
			image_link = page["query"]["pages"][page_id]["imageinfo"][0]["url"]
			break
		if boo: break

		with open(f"images/1980/{i}/Портреты/{imgname}", "wb") as file:
			file.write(requests.get(image_link).content)
	print(f"{i} готовы")

"""for i in names_1980:
	try:
		os.mkdir(f"images/1980/{i}/Интересы")
	except FileExistsError:
		pass
	for j in range(1, 40):
		boo = False
		for k in ("png", "PNG", "JPG", "jpg", "jpeg"):
			imgname = f"Интересы_{i}_({j}).{k}"
			link = f"https://yandere-simulator.fandom.com/ru/api.php?action=query&titles=File:{imgname}&prop=imageinfo&iiprop=url&format=json"
			page = json.loads(requests.get(link).content)
			page_id = list(page["query"]["pages"].keys())[0]

			try:
				image_link = page["query"]["pages"][page_id]["imageinfo"][0]["url"]
			except KeyError:
				if k == "jpeg": boo = True
				continue
			break
		if boo: break

		with open(f"images/1980/{i}/Интересы/{imgname}", "wb") as file:
			file.write(requests.get(image_link).content)
	print(f"Интересы {i} готова")"""

"""for i in range(len(model_names_1980)):
	try:
		os.mkdir(f"images/1980/{names_1980[i]}/Модель")
	except FileExistsError:
		pass
	for j in ("спереди","сзади","слева","справа"):
		imgname = f"{model_names_1980[i]}_(вид {j}).png"
		link = f"https://yandere-simulator.fandom.com/ru/api.php?action=query&titles=File:{imgname}&prop=imageinfo&iiprop=url&format=json"
		page = json.loads(requests.get(link).content)
		page_id = list(page["query"]["pages"].keys())[0]
		image_link = page["query"]["pages"][page_id]["imageinfo"][0]["url"]

		with open(f"images/1980/{names_1980[i]}/Модель/{imgname}", "wb") as file:
			file.write(requests.get(image_link).content)
	print(f"Модель {names_1980[i]} готова")"""